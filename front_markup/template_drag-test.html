<!DOCTYPE html>
<html lang="ko">
<head></head>
<body>
    <div class="wrap">
        <div data-include-path="./_inc/head_sub.html"></div>
        <div class="content">
            <style>
                .draglist {
                    display: flex;
                    flex-direction: column;
                    gap: 10px;position: absolute;left: 50%;transform: translateX(-50%);
                }
            </style>
            
            <div style="height: 500px;text-align: center;margin-top: 100px;display: flex;align-items: center;justify-content: center;position: relative;overflow: hidden;">
                <div style="width: 100%;height: 40px;border: 1px solid red;" class="select-value">
                    <p style="text-align: right;" id="selected-value">10</p>
                    <ul class="draglist" style="top: 0px;">
                        <li>1</li>
                        <li>2</li>
                        <li>3</li>
                        <li>4</li>
                        <li>5</li>
                        <li>6</li>
                        <li>7</li>
                        <li>8</li>
                        <li>9</li>
                        <li>10</li>
                        <li>11</li>
                        <li>12</li>
                        <li>13</li>
                        <li>14</li>
                        <li>15</li>
                        <li>16</li>
                        <li>17</li>
                        <li>18</li>
                        <li>19</li>
                        <li>20</li>
                        <li>21</li>
                        <li>22</li>
                        <li>23</li>                        
                    </ul>
                </div>
            </div>
            <script>
                const dragList = document.querySelector('.draglist');
                const selectedValueElement = document.getElementById('selected-value');
                const selectValueContainer = document.querySelector('.select-value');
        
                let startY;
                let startTop;
        
                selectValueContainer.addEventListener('touchstart', function (e) {
                    startY = e.touches[0].clientY;
                    startTop = parseInt(window.getComputedStyle(dragList).top, 10);
                });
        
                selectValueContainer.addEventListener('touchmove', function (e) {
                    const touchY = e.touches[0].clientY;
                    const deltaY = touchY - startY;
                    dragList.style.top = `${startTop + deltaY}px`;
                });
        
                selectValueContainer.addEventListener('touchend', function (e) {
                    const touchY = e.changedTouches[0].clientY;
                    const deltaY = touchY - startY;
                    const itemHeight = dragList.querySelector('li').offsetHeight;
                    const offset = Math.round(deltaY / itemHeight);
                    const newTop = startTop + offset * itemHeight;
                    
                    // Check boundaries
                    const maxTop = 0;
                    const minTop = - (dragList.offsetHeight - selectValueContainer.offsetHeight);
                    dragList.style.top = `${Math.min(maxTop, Math.max(minTop, newTop))}px`;
        
                    // Calculate and display selected value
                    const selectedIndex = Math.abs(Math.round(newTop / itemHeight));
                    const selectedValue = dragList.children[selectedIndex].textContent;
                    selectedValueElement.textContent = selectedValue;
                });
            </script>
    </div>    
    <!-- 퍼블 단계에서 공통 영역 include를 위한 스크립트 -->
    <script type="module" src="/assets/js/pub_include.js"></script>

    <script type="text/javascript" src="/assets/bundle/swiper-bundle.min.js"></script>
    <script src="/assets/bundle/dayjs/dayjs.min.js"></script>
    <script src="/assets/bundle/dayjs/isSameOrBefore.js"></script>
    <script src="/assets/bundle/dayjs/ko.js"></script>
    <script type="module" src="/assets/js/index.js"></script>    
</body>
</html>
